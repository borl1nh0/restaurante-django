{% extends 'restaurante/base.html' %}
{% block content %}
<h2>Listado de Restaurantes</h2>

<a href="{% url 'restaurantes_crear' %}">Crear nuevo restaurante</a>

<ul>
  {% for r in restaurantes %}
  <li>
    <strong>{{ r.nombre }}</strong><br>
    Teléfono: {{ r.telefono }}<br>
    Dirección: {{ r.direccion }}<br>
    Clientes frecuentes: 
      {% for c in r.clientes_frecuentes.all %}
      {# placeholder for cliente links, avoid delete here #}
      {% empty %}
      Ninguno
    {% endfor %}
    <br>
    <a href="{% url 'restaurantes_editar' r.id %}">Editar</a> | 
    <form method="post" action="{% url 'restaurantes_eliminar' r.id %}" style="display:inline" class="confirm-delete" data-confirm="¿Seguro que deseas eliminar el restaurante '{{ r.nombre }}'?">
      {% csrf_token %}
      <button type="submit" style="border:none;background:none;padding:0;color:#0d6efd;">Eliminar</button>
    </form>
  </li>
  {% empty %}
  <li>No hay restaurantes registrados.</li>
  {% endfor %}
</ul>
{% endblock %}
